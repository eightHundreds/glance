## 1. 设置模型配置基础设施
- [ ] 1.1 扩展 `UserSettings`/`SettingsState`（或新增专用 store）以持久化 `modelProvider`、`modelName`、`apiBaseUrl` 等公开字段，并定义本地-only 的密钥存储方案。
- [ ] 1.2 新增读写 helper：可区分同步字段与敏感字段；保存时在本地对 API Key 进行覆盖写入，并返回最新的「是否已配置」状态供前端使用。

## 2. Options UI 与交互
- [ ] 2.1 在 Options 页添加「大模型设置」卡片，包含供应商选择、凭据输入、多供应商提示文案；根据供应商切换需展示不同输入说明。
- [ ] 2.2 提供「测试连通性」按钮：调用后台/内容脚本完成一次最小化 ping，并将成功或错误反馈给用户；失败时不得保存密钥。

## 3. Summary 流程的配置校验
- [ ] 3.1 在 summary 初始化时加载最新的模型配置状态；若缺少 API Key 或供应商，显示「去设置模型」的 CTA 并禁用提问按钮。
- [ ] 3.2 当配置完整时，把供应商/模型信息随第一条 summary 请求传入后续链路，确保无需再次确认；必要时记录 telemetry 以便排查。

## 4. 验证
- [ ] 4.1 手动测试：在 Options 页保存不同供应商与错误凭据，确认提示准确、密钥未写入 sync；清理浏览器缓存后配置仍存在。
- [ ] 4.2 手动或自动化测试 summary：缺少配置时弹出提醒；补齐配置后立即可触发首次提问，network inspector 中仅包含已选供应商的请求。
